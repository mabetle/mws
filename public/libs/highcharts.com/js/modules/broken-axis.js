(function(i){function p(){return Array.prototype.slice.call(arguments,1)}var n=i.pick,m=i.wrap,q=i.extend,o=HighchartsAdapter.fireEvent,l=i.Axis,r=i.Series;q(l.prototype,{isInBreak:function(h,g){var c=h.repeat||Infinity,b=h.from,a=h.to-h.from,c=g>=b?(g-b)%c:c-(b-g)%c;return h.inclusive?c<=a:c<a&&c!==0},isInAnyBreak:function(h,g){var c=this.options.breaks,b=c&&c.length,a,d,e;if(b){for(;b--;)this.isInBreak(c[b],h)&&(a=!0,d||(d=n(c[b].showPoints,this.isXAxis?!1:!0)));e=a&&g?a&&!d:a}return e}});m(l.prototype,
"setTickPositions",function(h){h.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var g=this.tickPositions,c=this.tickPositions.info,b=[],a;for(a=0;a<g.length;a++)this.isInAnyBreak(g[a])||b.push(g[a]);this.tickPositions=b;this.tickPositions.info=c}});m(l.prototype,"init",function(h,g,c){if(c.breaks&&c.breaks.length)c.ordinal=!1;h.call(this,g,c);if(this.options.breaks){var b=this;b.doPostTranslate=!0;this.val2lin=function(a){var d=a,e,c;for(c=0;c<b.breakArray.length;c++)if(e=
b.breakArray[c],e.to<=a)d-=e.len;else if(e.from>=a)break;else if(b.isInBreak(e,a)){d-=a-e.from;break}return d};this.lin2val=function(a){var d,e;for(e=0;e<b.breakArray.length;e++)if(d=b.breakArray[e],d.from>=a)break;else d.to<a?a+=d.len:b.isInBreak(d,a)&&(a+=d.len);return a};this.setExtremes=function(a,b,e,c,j){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=this.closestPointRange;l.prototype.setExtremes.call(this,a,b,e,c,j)};this.setAxisTranslation=function(a){l.prototype.setAxisTranslation.call(this,
a);var d=b.options.breaks,a=[],e=[],c=0,j,f,g=b.userMin||b.min,h=b.userMax||b.max,k,i;for(i in d)f=d[i],j=f.repeat||Infinity,b.isInBreak(f,g)&&(g+=f.to%j-g%j),b.isInBreak(f,h)&&(h-=h%j-f.from%j);for(i in d){f=d[i];k=f.from;for(j=f.repeat||Infinity;k-j>g;)k-=j;for(;k<g;)k+=j;for(;k<h;k+=j)a.push({value:k,move:"in"}),a.push({value:k+(f.to-f.from),move:"out",size:f.breakSize})}a.sort(function(a,b){return a.value===b.value?(a.move==="in"?0:1)-(b.move==="in"?0:1):a.value-b.value});d=0;k=g;for(i in a){f=
a[i];d+=f.move==="in"?1:-1;if(d===1&&f.move==="in")k=f.value;d===0&&(e.push({from:k,to:f.value,len:f.value-k-(f.size||0)}),c+=f.value-k-(f.size||0))}b.breakArray=e;o(b,"afterBreaks");b.transA*=(h-b.min)/(h-g-c);b.min=g;b.max=h}}});m(r.prototype,"generatePoints",function(h){h.apply(this,p(arguments));var g=this.xAxis,c=this.yAxis,b=this.points,a,d=b.length,e=this.options.connectNulls,i=!1,j;if(g&&c&&(g.options.breaks||c.options.breaks)){for(;d--;)if(a=b[d],j=a.y===null&&e===!1,!j&&(g.isInAnyBreak(a.x,
!0)||c.isInAnyBreak(a.y,!0)))i=!0,b.splice(d,1),this.updateParallelArrays(a,"splice",d,1),this.data[d]&&this.data[d].destroyElements();i&&(this.yAxis.cleanStacks(),this.yAxis.buildStacks())}});m(i.seriesTypes.column.prototype,"drawPoints",function(h){h.apply(this);var h=this.points,g=this.yAxis,c=g.breakArray||[],b=n(this.options.threshold,g.min),a,d,e,i,j,f;for(i=0;i<h.length;i++){d=h[i];f=d.stackY||d.y;for(j=0;j<c.length;j++){e=c[j];a=!1;if(b<e.from&&f>e.to||b>e.from&&f<e.from)a="pointBreak";else if(b<
e.from&&f>e.from&&f<e.to||b>e.from&&f>e.to&&f<e.from)a="pointInBreak";a&&o(g,a,{point:d,brk:e})}}})})(Highcharts);
